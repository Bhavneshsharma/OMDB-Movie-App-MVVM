package com.deepexploit.fiprojectbhavnesh.view

import android.os.Bundle
import android.view.LayoutInflater
import android.view.View
import android.view.ViewGroup
import android.widget.Toast
import androidx.databinding.DataBindingUtil
import com.bumptech.glide.Glide
import com.deepexploit.fiprojectbhavnesh.R
import com.deepexploit.fiprojectbhavnesh.databinding.FragmentItemDetailsBinding
import com.deepexploit.fiprojectbhavnesh.model.ItemModel
import com.google.android.material.bottomsheet.BottomSheetDialogFragment

class FragmentItemDetails : BottomSheetDialogFragment() {

    private lateinit var binding: FragmentItemDetailsBinding

    companion object {
        const val DATA_KEY = "key"
    }

    override fun onCreateView(
        inflater: LayoutInflater,
        container: ViewGroup?,
        savedInstanceState: Bundle?
    ): View? {

        binding =
            DataBindingUtil.inflate(inflater, R.layout.fragment_item_details, container, false)
        val dataNew = arguments?.getParcelable<ItemModel>(DATA_KEY)
        context?.let {
            Glide.with(it).load(dataNew?.poster).into(binding.fragmentBanner)
            Glide.with(it).load(dataNew?.poster).into(binding.itemImage)
            binding.fragmentItemName.text = dataNew?.title
            binding.fragmentItemYear.text = dataNew?.year
            binding.mgs.text = getString(R.string.data_not_avaliable_bottom)
            binding.fragmentPlay.setOnClickListener {
                Toast.makeText(context, getString(R.string.item_not_avaliable), Toast.LENGTH_LONG).show()
            }
        }
        binding.fragmentCrossBtn.setOnClickListener {
            dismiss()
        }

        return binding.root
    }
}